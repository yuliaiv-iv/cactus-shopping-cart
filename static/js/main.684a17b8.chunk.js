(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],[,,,,,,,,,,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),i=c(4),r=c.n(i),s=(c(13),c(3)),o=(c(14),[{id:123,name:"Prickly Pear",image_url:"https://images.unsplash.com/photo-1509587584298-0f3b3a3a1797?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=657&q=80",price:20},{id:456,name:"Spikasaurus Rex",image_url:"https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=709&q=80",price:30},{id:789,name:"Sir Stabbington",image_url:"https://images.unsplash.com/photo-1551888419-c41351800459?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",price:40},{id:1010,name:"Needles",image_url:"https://images.unsplash.com/photo-1519336056116-bc0f1771dec8?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:80},{id:150,name:"Little Prick",image_url:"https://images.unsplash.com/photo-1592137521531-48cdc73e3930?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:75},{id:85,name:"Prickles",image_url:"https://images.unsplash.com/photo-1581572145515-5c6c361286ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=675&q=80",price:40},{id:1011,name:"Free Hugs",image_url:"https://images.unsplash.com/photo-1528476513691-07e6f563d97f?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=658&q=80",price:50},{id:11,name:"Saguaro",image_url:"https://images.unsplash.com/photo-1547955922-da7439f9c938?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:62}]),l=(c(15),c(0)),d=function(e){return Object(l.jsx)("div",{className:"wrapper",children:e.children})},u=(c(17),c(2)),m=(c(18),n.a.forwardRef((function(e,t){return Object(l.jsxs)("div",{className:"form__input",children:[Object(l.jsx)("label",{className:"form__label",htmlFor:e.input.id,children:e.label}),Object(l.jsx)("input",Object(u.a)({className:"form__item",ref:t},e.input))]})}))),j=(c(19),function(e){var t=Object(a.useRef)(),c=Object(a.useState)(!0),n=Object(s.a)(c,2),i=n[0],r=n[1];return Object(l.jsxs)("form",{className:"form",onSubmit:function(c){c.preventDefault();var a=t.current.value,n=+a;0===a.trim().length||n<1||n>5?r(!1):e.onAddToCart(n)},children:[Object(l.jsx)(m,{ref:t,label:"Amount",input:{id:"amount",type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(l.jsx)("button",{className:"form__button",children:"+ Add"}),!i&&Object(l.jsx)("p",{children:"Please enter a valid amount 1-5"})]})}),b=c(8),f=n.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){}}),x={items:[],totalAmount:0},h=function(e,t){if("ADD"===t.type){var c,a=e.totalAmount+t.item.price*t.item.amount,n=e.items.findIndex((function(e){return e.id===t.item.id})),i=e.items[n];if(i){var r=Object(u.a)(Object(u.a)({},i),{},{amount:i.amount+t.item.amount});(c=Object(b.a)(e.items))[n]=r}else c=e.items.concat(t.item);return{items:c,totalAmount:a}}if("REMOVE"===t.type){var s,o=e.items.findIndex((function(e){return e.id===t.id})),l=e.items[o],d=e.totalAmount-l.price;if(1===l.amount)s=e.items.filter((function(e){return e.id!==t.id}));else{var m=Object(u.a)(Object(u.a)({},l),{},{amount:l.amount-1});(s=Object(b.a)(e.items))[o]=m}return{items:s,totalAmount:d}}return x},p=function(e){var t=e.children,c=Object(a.useReducer)(h,x),n=Object(s.a)(c,2),i=n[0],r=n[1];return Object(l.jsx)(f.Provider,{value:{items:i.items,totalAmount:i.totalAmount,addItem:function(e){r({type:"ADD",item:e})},removeItem:function(e){r({type:"REMOVE",id:e})}},children:t})},O=function(e){var t="$".concat(e.price.toFixed(2)),c=Object(a.useContext)(f);return Object(l.jsxs)("li",{className:"card",children:[Object(l.jsxs)("div",{className:"card__wrapper",children:[Object(l.jsx)("img",{className:"card__image",src:e.image_url,alt:e.name}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{className:"card__title",children:e.name}),Object(l.jsx)("div",{className:"card__price",children:t})]})]}),Object(l.jsx)("div",{children:Object(l.jsx)(j,{onAddToCart:function(t){c.addItem({id:e.id,name:e.name,amount:t,price:e.price})}})})]})},_=(c(20),function(){var e=o.map((function(e){return Object(l.jsx)(O,{id:e.id,name:e.name,image_url:e.image_url,description:e.description,price:e.price},e.id)}));return Object(l.jsx)("section",{className:"cactuses",children:Object(l.jsx)(d,{children:Object(l.jsx)("ul",{className:"cactuses__list",children:e})})})}),w=function(){return Object(l.jsx)(a.Fragment,{children:Object(l.jsx)(_,{})})},v=c.p+"static/media/main.53ade12e.jpg",g=function(){return Object(l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(l.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},H=(c(21),function(e){var t=e.showCartHandler,c=Object(a.useContext)(f),n=c.items.reduce((function(e,t){return e+t.amount}),0);return console.log(c),Object(l.jsxs)("button",{className:"button",onClick:t,children:[Object(l.jsx)("span",{className:"button__icon",children:Object(l.jsx)(g,{})}),Object(l.jsx)("span",{children:"Your Cart"}),Object(l.jsx)("span",{className:"button__badge",children:n})]})}),N=(c(22),function(e){var t=e.showCartHandler;return Object(l.jsxs)(a.Fragment,{children:[Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("h1",{children:"Cactus World"}),Object(l.jsx)(H,{showCartHandler:t})]}),Object(l.jsx)("div",{className:"header__wrapper",children:Object(l.jsx)("img",{className:"header__image",src:v,alt:"cactuses in the room"})})]})}),D=(c(23),function(e){var t=e.hideCartHandler;return Object(l.jsx)("div",{className:"overlay",onClick:t})}),M=function(e){var t=e.children;return Object(l.jsx)("div",{className:"modal",children:Object(l.jsx)("div",{className:"content",children:t})})},C=document.getElementById("overlays"),A=function(e){var t=e.hideCartHandler,c=e.children;return Object(l.jsxs)(a.Fragment,{children:[r.a.createPortal(Object(l.jsx)(D,{hideCartHandler:t}),C),r.a.createPortal(Object(l.jsx)(M,{children:c}),C)]})},B=(c(24),function(e){var t=e.price,c=e.name,a=e.amount,n=e.cartItemRemoveHandler,i=e.cartItemAddHandler,r="$".concat(t.toFixed(2));return Object(l.jsxs)("li",{className:"cart-item",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:c}),Object(l.jsxs)("div",{className:"cart-item__summary",children:[Object(l.jsx)("span",{className:"cart-item__price",children:r}),Object(l.jsxs)("span",{className:"cart-item__amount",children:["x ",a]})]})]}),Object(l.jsxs)("div",{className:"cart-item__actions",children:[Object(l.jsx)("button",{onClick:n,children:"\u2212"}),Object(l.jsx)("button",{onClick:i,children:"+"})]})]})}),y=(c(25),function(e){var t=e.hideCartHandler,c=Object(a.useContext)(f),n="$".concat(c.totalAmount.toFixed(2)),i=c.items.length>0,r=function(e){c.removeItem(e)},s=function(e){c.addItem(Object(u.a)(Object(u.a)({},e),{},{amount:1}))},o=Object(l.jsx)("ul",{className:"cart-items",children:c.items.map((function(e){return Object(l.jsx)(B,{name:e.name,amount:e.amount,price:e.price,cartItemRemoveHandler:r.bind(null,e.id),cartItemAddHandler:s.bind(null,e)},e.id)}))});return Object(l.jsxs)(A,{hideCartHandler:t,children:[o,Object(l.jsxs)("div",{className:"cart__total",children:[Object(l.jsx)("span",{children:"Total Amount"}),Object(l.jsx)("span",{children:n})]}),Object(l.jsxs)("div",{className:"cart__actions",children:[Object(l.jsx)("button",{className:"cart__button cart__button_alt",onClick:t,children:"Close"}),i&&Object(l.jsx)("button",{className:"cart__button",children:"Order"})]})]})});var G=function(){var e=Object(a.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1];return Object(l.jsxs)(p,{children:[c&&Object(l.jsx)(y,{hideCartHandler:function(){n(!1)}}),Object(l.jsx)(N,{showCartHandler:function(){n(!0)}}),Object(l.jsx)(w,{})]})},I=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,27)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(G,{})}),document.getElementById("root")),I()}],[[26,1,2]]]);
//# sourceMappingURL=main.684a17b8.chunk.js.map