{"version":3,"sources":["icons/cart.svg","utils/data.js","contexts/useCart.js","components/Cart.js","components/Header.js","components/Product.js","App.js","reportWebVitals.js","index.js"],"names":["products","sku","name","image_url","price","CartContext","createContext","useCart","useContext","initialState","cart","reducer","state","type","payload","find","p","indexCart","findIndex","newCart","splice","CartProvider","children","useReducer","dispatch","groupItems","reduce","product","indexInCart","qty","push","Provider","value","addItem","removeItem","countItemInCart","filter","length","emptyCart","groupCardItems","totalPrice","Cart","className","map","index","src","alt","width","onClick","Header","useState","isOpen","setIsOpen","modalRef","useRef","useOnClickOutside","cartLogo","ref","Product","disabled","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3d38be84.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/cart.f57c9d73.svg\";","export const products = [\n  {\n    sku: 11,\n    name: 'Saguaro',\n    image_url: 'https://images.unsplash.com/photo-1547955922-da7439f9c938?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80',\n    price: 62,\n  },\n  {\n    sku: 123,\n    name: 'Prickly Pear',\n    image_url: 'https://images.unsplash.com/photo-1509587584298-0f3b3a3a1797?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=657&q=80',\n    price: 20,\n  },\n  {\n    sku: 456,\n    name: 'Spikasaurus Rex',\n    image_url: 'https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=709&q=80',\n    price: 30,\n  },\n  {\n    sku: 789,\n    name: 'Sir Stabbington',\n    image_url: 'https://images.unsplash.com/photo-1551888419-c41351800459?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80',\n    price: 40,\n  },\n  {\n    sku: 1010,\n    name: 'Needles',\n    image_url: 'https://images.unsplash.com/photo-1519336056116-bc0f1771dec8?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80',\n    price: 80,\n  },\n  {\n    sku: 150,\n    name: 'Little Prick',\n    image_url: 'https://images.unsplash.com/photo-1592137521531-48cdc73e3930?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80',\n    price: 75,\n  },\n  {\n    sku: 85,\n    name: 'Prickles',\n    image_url: 'https://images.unsplash.com/photo-1581572145515-5c6c361286ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=675&q=80',\n    price: 40,\n  },\n  {\n    sku: 1011,\n    name: 'Free Hugs',\n    image_url: 'https://images.unsplash.com/photo-1528476513691-07e6f563d97f?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=658&q=80',\n    price: 50,\n  },\n];","import React, { createContext, useContext, useReducer } from 'react';\nimport { products } from '../utils/data';\n\nconst CartContext = createContext();\nexport const useCart = () => useContext(CartContext);\n\nconst initialState = { cart: []}\n\nfunction reducer(state, { type, payload }) {\n  switch (type) {\n    case \"ADD\":\n      return {\n        ...state,\n        cart: [\n          ...state.cart,\n          products.find((p) => p.sku === payload),\n        ],\n      };\n    case \"REMOVE\":\n      const indexCart = state.cart.findIndex(p => p.sku === payload);\n      const newCart = [...state.cart];\n      newCart.splice(indexCart, 1);\n      return { ...state, cart: newCart };\n    case \"EMPTY\":\n      return { cart: []};\n    default:\n      return state;\n  }\n}\n\nexport function CartProvider({children}) {\n\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const addItem = (sku)  => dispatch({type: \"ADD\", payload: sku});\n  const removeItem = (sku)  => dispatch({type: \"REMOVE\", payload: sku});\n  const emptyCart = ()  => dispatch({type: \"EMPTY\" });\n\n  const countItemInCart = (sku) => {\n    const itemsInCart = state.cart.filter((p) => p.sku === sku) ?? [];\n    return itemsInCart.length;\n  }\n  const groupItems = () => {\n    return state.cart.reduce((newCart, product) => {\n      const indexInCart = newCart.findIndex((p) => p.sku === product.sku);\n      const isInCart = indexInCart !== -1;\n      if (isInCart) {\n        newCart[indexInCart].qty = newCart[indexInCart].qty +1\n        return newCart\n      }\n      newCart.push({...product, qty: 1});\n      return newCart\n    }, [])\n  }\n\n  const totalPrice = () => {\n    return groupItems().reduce((totalPrice, product) => {\n      return totalPrice +(product.price * product.qty);\n    }, 0)\n  }\n\n  return (\n    <CartContext.Provider\n      value={{\n        addItem,\n        removeItem,\n        countItemInCart,\n        emptyCart,\n        groupCardItems: groupItems(),\n        cart: state.cart,\n        totalPrice: totalPrice(),\n      }}\n    >\n      {children}\n    </CartContext.Provider>\n  )\n}\n\n","import React from 'react';\nimport { useCart } from '../contexts/useCart';\n\nexport default function Cart() {\n\n  const { addItem, groupCardItems, removeItem, totalPrice, cart } = useCart();\n\n  return (\n    <div className=\"cart\">\n      {cart.length === 0 ? <h3 className=\"cart-text\">You don't have any cactuses in the cart yet</h3> : null}\n      {groupCardItems.map((product, index) => (\n        <div className=\"cart-item\" key={index}>\n          <img src={product.image_url} alt={product.name} width=\"60\" />\n          <div className=\"content\">\n            <h3>{product.name}</h3>\n            <div className=\"cart-buttons\">\n              <button onClick={() => removeItem(product.sku)}>-</button>\n              <button>{product.qty}</button>\n              <button onClick={() => addItem(product.sku)}>+</button>\n            </div>\n          </div>\n        </div>\n      ))}\n      <div className=\"total\">\n        <p>Total Price:</p>\n        <p>${totalPrice}</p>\n      </div>\n    </div>\n  );\n}","import React, { useState, useRef } from 'react';\nimport cartLogo from \"../icons/cart.svg\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport { useCart } from '../contexts/useCart';\nimport Cart from './Cart';\n\nexport default function Header() {\n\n  const [isOpen, setIsOpen] = useState(false);\n  const modalRef = useRef();\n  const { cart } = useCart()\n\n  const handleCartOpen = () => {\n    setIsOpen(!isOpen);\n  };\n\n  useOnClickOutside(modalRef, () => {\n    if(isOpen === true) {\n      setIsOpen(false);\n    }\n  })\n\n  return (\n    <header>\n      <div className=\"container\">\n        <div className=\"cart-button\">\n          <h2 className=\"name\">Cactus World</h2>\n          <button onClick={handleCartOpen}>\n            <img src={cartLogo} alt=\"cart\" width=\"30\" />{cart.length}\n          </button>\n          <div ref={modalRef} className={`cart-modal ${isOpen ? \"cart-modal-open\" : ''}`}>\n              <Cart />\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n}","import React from 'react';\nimport { useCart } from \"../contexts/useCart\"\nimport Cart from './Cart';\n\nexport default function Product({ product }) {\n\n  const { addItem, countItemInCart, removeItem } = useCart();\n\n  const handleAddItem = () => {\n    addItem(product.sku)\n  }\n\n  const handleRemoveItem = () => {\n    removeItem(product.sku)\n  }\n\n  return (\n    <div className=\"product\">\n      <img src={product.image_url} alt={product.name} />\n      <h3>{product.name}</h3>\n      <div className=\"product-buttons\">\n        <button\n          className={`remove ${countItemInCart(product.sku) === 0 ? 'remove-disabled' : ''}`}\n          onClick={handleRemoveItem}\n          disabled={countItemInCart(product.sku) === 0}\n        >\n          Remove\n        </button>\n        <button\n          className=\"add\"\n          onClick={handleAddItem}\n        >\n          Added to Cart ({countItemInCart(product.sku)})\n        </button>\n      </div>\n    </div>\n  );\n}","import './App.css';\nimport Header from './components/Header';\nimport Product from './components/Product';\nimport { products } from './utils/data';\nimport { CartProvider } from \"./contexts/useCart\";\n\nfunction App() {\n  return (\n    <CartProvider>\n      <div className=\"app\">\n        <Header />\n        <main>\n          <div className=\"products-list\">\n            {products.map((product, index) => (\n              <Product key={index} product={product} />\n            ))}\n          </div>\n        </main>\n      </div>\n    </CartProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}