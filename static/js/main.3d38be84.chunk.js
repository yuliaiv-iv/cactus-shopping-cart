(this["webpackJsonpshopping-cart"]=this["webpackJsonpshopping-cart"]||[]).push([[0],{14:function(t,e,c){},15:function(t,e,c){},17:function(t,e,c){"use strict";c.r(e);var r=c(1),a=c.n(r),n=c(8),i=c.n(n),s=(c(14),c(15),c(5)),u=c.p+"static/media/cart.f57c9d73.svg",o=c(9),l=c(7),d=c(2),f=[{sku:11,name:"Saguaro",image_url:"https://images.unsplash.com/photo-1547955922-da7439f9c938?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:62},{sku:123,name:"Prickly Pear",image_url:"https://images.unsplash.com/photo-1509587584298-0f3b3a3a1797?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=657&q=80",price:20},{sku:456,name:"Spikasaurus Rex",image_url:"https://images.unsplash.com/photo-1459411552884-841db9b3cc2a?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=709&q=80",price:30},{sku:789,name:"Sir Stabbington",image_url:"https://images.unsplash.com/photo-1551888419-c41351800459?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=634&q=80",price:40},{sku:1010,name:"Needles",image_url:"https://images.unsplash.com/photo-1519336056116-bc0f1771dec8?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:80},{sku:150,name:"Little Prick",image_url:"https://images.unsplash.com/photo-1592137521531-48cdc73e3930?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=634&q=80",price:75},{sku:85,name:"Prickles",image_url:"https://images.unsplash.com/photo-1581572145515-5c6c361286ca?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=675&q=80",price:40},{sku:1011,name:"Free Hugs",image_url:"https://images.unsplash.com/photo-1528476513691-07e6f563d97f?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=658&q=80",price:50}],b=c(0),j=Object(r.createContext)(),m=function(){return Object(r.useContext)(j)},x={cart:[]};function p(t,e){var c=e.type,r=e.payload;switch(c){case"ADD":return Object(d.a)(Object(d.a)({},t),{},{cart:[].concat(Object(l.a)(t.cart),[f.find((function(t){return t.sku===r}))])});case"REMOVE":var a=t.cart.findIndex((function(t){return t.sku===r})),n=Object(l.a)(t.cart);return n.splice(a,1),Object(d.a)(Object(d.a)({},t),{},{cart:n});case"EMPTY":return{cart:[]};default:return t}}function h(t){var e=t.children,c=Object(r.useReducer)(p,x),a=Object(s.a)(c,2),n=a[0],i=a[1],u=function(){return n.cart.reduce((function(t,e){var c=t.findIndex((function(t){return t.sku===e.sku}));return-1!==c?(t[c].qty=t[c].qty+1,t):(t.push(Object(d.a)(Object(d.a)({},e),{},{qty:1})),t)}),[])};return Object(b.jsx)(j.Provider,{value:{addItem:function(t){return i({type:"ADD",payload:t})},removeItem:function(t){return i({type:"REMOVE",payload:t})},countItemInCart:function(t){var e;return(null!==(e=n.cart.filter((function(e){return e.sku===t})))&&void 0!==e?e:[]).length},emptyCart:function(){return i({type:"EMPTY"})},groupCardItems:u(),cart:n.cart,totalPrice:u().reduce((function(t,e){return t+e.price*e.qty}),0)},children:e})}function O(){var t=m(),e=t.addItem,c=t.groupCardItems,r=t.removeItem,a=t.totalPrice,n=t.cart;return Object(b.jsxs)("div",{className:"cart",children:[0===n.length?Object(b.jsx)("h3",{className:"cart-text",children:"You don't have any cactuses in the cart yet"}):null,c.map((function(t,c){return Object(b.jsxs)("div",{className:"cart-item",children:[Object(b.jsx)("img",{src:t.image_url,alt:t.name,width:"60"}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("h3",{children:t.name}),Object(b.jsxs)("div",{className:"cart-buttons",children:[Object(b.jsx)("button",{onClick:function(){return r(t.sku)},children:"-"}),Object(b.jsx)("button",{children:t.qty}),Object(b.jsx)("button",{onClick:function(){return e(t.sku)},children:"+"})]})]})]},c)})),Object(b.jsxs)("div",{className:"total",children:[Object(b.jsx)("p",{children:"Total Price:"}),Object(b.jsxs)("p",{children:["$",a]})]})]})}function w(){var t=Object(r.useState)(!1),e=Object(s.a)(t,2),c=e[0],a=e[1],n=Object(r.useRef)(),i=m().cart;return Object(o.a)(n,(function(){!0===c&&a(!1)})),Object(b.jsx)("header",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"cart-button",children:[Object(b.jsx)("h2",{className:"name",children:"Cactus World"}),Object(b.jsxs)("button",{onClick:function(){a(!c)},children:[Object(b.jsx)("img",{src:u,alt:"cart",width:"30"}),i.length]}),Object(b.jsx)("div",{ref:n,className:"cart-modal ".concat(c?"cart-modal-open":""),children:Object(b.jsx)(O,{})})]})})})}function g(t){var e=t.product,c=m(),r=c.addItem,a=c.countItemInCart,n=c.removeItem;return Object(b.jsxs)("div",{className:"product",children:[Object(b.jsx)("img",{src:e.image_url,alt:e.name}),Object(b.jsx)("h3",{children:e.name}),Object(b.jsxs)("div",{className:"product-buttons",children:[Object(b.jsx)("button",{className:"remove ".concat(0===a(e.sku)?"remove-disabled":""),onClick:function(){n(e.sku)},disabled:0===a(e.sku),children:"Remove"}),Object(b.jsxs)("button",{className:"add",onClick:function(){r(e.sku)},children:["Added to Cart (",a(e.sku),")"]})]})]})}var v=function(){return Object(b.jsx)(h,{children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(w,{}),Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"products-list",children:f.map((function(t,e){return Object(b.jsx)(g,{product:t},e)}))})})]})})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(e){var c=e.getCLS,r=e.getFID,a=e.getFCP,n=e.getLCP,i=e.getTTFB;c(t),r(t),a(t),n(t),i(t)}))};i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(v,{})}),document.getElementById("root")),k()}},[[17,1,2]]]);
//# sourceMappingURL=main.3d38be84.chunk.js.map